

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../../../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>4.10. Prediction from GP Surrogate Model &mdash; Earthquake Engineering with Uncertainty Quantification  documentation</title>
      <link rel="stylesheet" type="text/css" href="../../../../../_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../../../../../_static/css/theme.css?v=66b6668b" />
      <link rel="stylesheet" type="text/css" href="../../../../../_static/copybutton.css?v=76b2166b" />
      <link rel="stylesheet" type="text/css" href="../../../../../_static/tabs.css?v=a5c4661c" />
      <link rel="stylesheet" type="text/css" href="../../../../../_static/sphinx-design.min.css?v=95c83b7e" />
      <link rel="stylesheet" type="text/css" href="../../../../../_static/sphinxcontrib-images/LightBox2/lightbox2/dist/css/lightbox.css?v=5c84f910" />
      <link rel="stylesheet" type="text/css" href="../../../../../_static/css/custom.css?v=4b5bf716" />

  
      <script src="../../../../../_static/jquery.js?v=5d32c60e"></script>
      <script src="../../../../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../../../../../_static/documentation_options.js?v=5929fcd5"></script>
      <script src="../../../../../_static/doctools.js?v=9a2dae69"></script>
      <script src="../../../../../_static/sphinx_highlight.js?v=dc90522c"></script>
      <script src="../../../../../_static/clipboard.min.js?v=a7894cd8"></script>
      <script src="../../../../../_static/copybutton.js?v=f281be69"></script>
      <script src="../../../../../_static/design-tabs.js?v=36754332"></script>
      <script src="../../../../../_static/sphinxcontrib-images/LightBox2/lightbox2/dist/js/lightbox-plus-jquery.min.js?v=ffc8af2d"></script>
      <script src="../../../../../_static/sphinxcontrib-images/LightBox2/lightbox2-customize/jquery-noconflict.js?v=12818e64"></script>
    <script src="../../../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../../search.html" />
    <link rel="next" title="4.11. Multi-fidelity Monte Carlo Simulation" href="../eeuq-0011/README.html" />
    <link rel="prev" title="4.9. Training GP Surrogate Model" href="../eeuq-0009/README.html" />
<script src="https://cdn.jsdelivr.net/npm/vega@5.12.1"></script>
<script src="https://cdn.jsdelivr.net/npm/vega-lite@4.13.1"></script>
<script src="https://cdn.jsdelivr.net/npm/vega-embed@6.8.0"></script>
<style media="screen">.vega-actions a {margin-right: 5px;}</style>
<link href="../../../../../_static/css/bootstrap.css" rel="stylesheet">

</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: #F2F2F2" >
<a href="https://simcenter.designsafe-ci.org/" style="margin-bottom: 0px;">
  <img src="../../../../../_static/img/SimCenter-Only.png" class="logo" alt="Org-Logo" />
</a>
<hr style="margin: 0px;">

  <a href="../../../../../index.html" class="icon icon-home"> Earthquake Engineering with Uncertainty Quantification



</a>




<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>


        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">About</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../about/EEUQ/about.html">1. About</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../front-matter/desktop/ack.html">2. Acknowledgments</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../front-matter/license.html">3. Copyright and License</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../front-matter/cite.html">4. How To Cite</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../releases/eeCapabilities.html">5. Capabilities</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../releases/eeReleaseNotes.html">6. Release Notes</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">User Manual</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../installation/desktop/installation.html">1. Running Application</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../usage/desktop/usage.html">2. User Interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../usage/desktop/earthquake/tools.html">3. Tools</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../examples.html">4. Examples</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../eeuq-0001/README.html">4.1. Sampling, Reliability and Sensitivity Analysis of a Shear Building</a></li>
<li class="toctree-l2"><a class="reference internal" href="../eeuq-0002/README.html">4.2. Site Response Analysis with Spatial Variability</a></li>
<li class="toctree-l2"><a class="reference internal" href="../eeuq-0003/README.html">4.3. PEER Ground Motion Selection and Nonlinear Response Analysis</a></li>
<li class="toctree-l2"><a class="reference internal" href="../eeuq-0004/README.html">4.4. AutoSDA and Nonlinear Response Analysis</a></li>
<li class="toctree-l2"><a class="reference internal" href="../eeuq-0005/README.html">4.5. Synthetic Ground Motion Applied to a Shear Buildilng</a></li>
<li class="toctree-l2"><a class="reference internal" href="../eeuq-0006/README.html">4.6. PLoM Surrogate Model</a></li>
<li class="toctree-l2"><a class="reference internal" href="../eeuq-0007/README.html">4.7. Target Spectrum by Surrogate Hazard GP Model</a></li>
<li class="toctree-l2"><a class="reference internal" href="../eeuq-0008/README.html">4.8. Using Multiple Models and Analysis Options in EE-UQ</a></li>
<li class="toctree-l2"><a class="reference internal" href="../eeuq-0009/README.html">4.9. Training GP Surrogate Model</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">4.10. Prediction from GP Surrogate Model</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#set-up-forward-propagation-configuration">4.10.1. Set Up Forward Propagation Configuration</a></li>
<li class="toctree-l3"><a class="reference internal" href="#define-target-structure">4.10.2. Define Target Structure</a></li>
<li class="toctree-l3"><a class="reference internal" href="#select-ground-motions">4.10.3. Select Ground Motions</a></li>
<li class="toctree-l3"><a class="reference internal" href="#distribution-of-random-variables">4.10.4. Distribution of Random Variables</a></li>
<li class="toctree-l3"><a class="reference internal" href="#run-the-analysis-and-process-results">4.10.5. Run the Analysis and Process Results</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../eeuq-0011/README.html">4.11. Multi-fidelity Monte Carlo Simulation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../eeuq-0012/README.html">4.12. Seismic Wave Basin Effects Model (DRM Example)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../eeuq-0013/README.html">4.13. Full 3D SSI Model with Laminar and DRM Inputs (Custom 3D Building)</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../usage/desktop/jobs.html">5. Jobs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../troubleshooting/desktop/troubleshooting.html">6. Troubleshooting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../reqments/EEUQ.html">7. Requirements</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../bugs.html">8. Bugs &amp; Feature Requests</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Technical Manual</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../technical_manual/desktop/uqTechnical.html">1. Dakota Methods</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../technical_manual/desktop/SimCenterUQTechnical.html">2. Methods in SimCenterUQ Engine</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../technical_manual/desktop/damping.html">3. Damping Options</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../technical_manual/desktop/spatial_correlation.html">4. Ground Motion Intensity Spatial Correlation Model Options</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Developer Manual</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../developer_manual/how_to_build/desktop/how_to_build.html">1. How to Build</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../developer_manual/how_to_extend.html">2. How to Extend</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../developer_manual/verification/desktop/verification.html">3. Verification</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu"  style="background: #F2F2F2" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../../index.html">Earthquake Engineering with Uncertainty Quantification</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../examples.html"><span class="section-number">4. </span>Examples</a></li>
      <li class="breadcrumb-item active"><span class="section-number">4.10. </span>Prediction from GP Surrogate Model</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../../../../_sources/common/user_manual/examples/desktop/eeuq-0010/README.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="prediction-from-gp-surrogate-model">
<span id="eeuq-0010"></span><h1><span class="section-number">4.10. </span>Prediction from GP Surrogate Model<a class="headerlink" href="#prediction-from-gp-surrogate-model" title="Link to this heading"></a></h1>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>To reproduce the result of this example, the user should first click <strong>EVT</strong> and <strong>Select Records</strong>, and then click the <strong>RUN</strong> button. See the below procedure for details.</p>
</div>
<p>This example shows how to replace structural dynamic simulations using a pre-trained Gaussian process (GP) surrogate model for running forward uncertainty propagation (Monte Carlo Simulation). The ground motions are selected from the PEER NGA database matching the Design Spectrum of ASCE 7-16 standard.</p>
<blockquote>
<div><figure class="align-center" id="uq-inputs">
<a class="reference internal image-reference" href="../../../../../_images/EE10_main3.png"><img alt="A complex graphical presentation on a black background. On the left, there is a two-dimensional waveform plot with a red dot indicating a particular point of interest. The center features a three-dimensional bar graph depicting varying heights of bars with a connecting trend line, and red dots scattered at the base, possibly representing data points. To the right, there are abstract shapes including a bell curve and a series of circle diagrams in a vertical arrangement, each with a varying number of circles, perhaps illustrating different datasets or statistical distributions." src="../../../../../_images/EE10_main3.png" style="width: 40%;" />
</a>
<figcaption>
<p><span class="caption-number">Fig. 4.10.1 </span><span class="caption-text">Prediction of response statistics using a surrogate model</span><a class="headerlink" href="#uq-inputs" title="Link to this image"></a></p>
</figcaption>
</figure>
</div></blockquote>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>This examples uses the surrogate model trained in <a class="reference internal" href="../eeuq-0009/README.html#eeuq-0009"><span class="std std-ref">example 09</span></a></p>
</div>
<section id="set-up-forward-propagation-configuration">
<h2><span class="section-number">4.10.1. </span>Set Up Forward Propagation Configuration<a class="headerlink" href="#set-up-forward-propagation-configuration" title="Link to this heading"></a></h2>
<ol class="arabic">
<li><p>In <strong>UQ tab</strong> select the <strong>Forward modeling</strong> as <strong>UQ Method</strong>. Select <strong>Dakota</strong> engine.</p>
<blockquote>
<div><figure class="align-center" id="id1">
<a class="reference internal image-reference" href="../../../../../_images/EE10_UQ.png"><img alt="Screenshot of a user interface for a software tool, with a navigation menu on the left labeled with acronyms &quot;G1,&quot; &quot;SIM,&quot; and &quot;EVT,&quot; highlighted on &quot;UQ.&quot; On the right is the main content section titled &quot;UQ Method&quot; with dropdown options for &quot;Forward Propagation&quot; and &quot;UQ Engine: Dakota.&quot; There are checkboxes for &quot;Parallel Execution&quot; and &quot;Save Working dirs.&quot; Under &quot;Method LHS,&quot; there are input fields for &quot;# Samples&quot; set to &quot;30&quot; and &quot;Seed&quot; set to &quot;413.&quot;" src="../../../../../_images/EE10_UQ.png" style="width: 900px;" />
</a>
<figcaption>
<p><span class="caption-number">Fig. 4.10.1.1 </span><span class="caption-text">UQ tab - Scatter plots</span><a class="headerlink" href="#id1" title="Link to this image"></a></p>
</figcaption>
</figure>
</div></blockquote>
<p>We will select 30 samples. If recorded ground motions will be used as input excitation, as in this example, the number of ground motions that will be selected in the EVT tab should match the number of samples specified in this tab. This restriction does not apply when a stochastic ground motion generator is used instead of the recorded ground motions.</p>
</li>
</ol>
</section>
<section id="define-target-structure">
<h2><span class="section-number">4.10.2. </span>Define Target Structure<a class="headerlink" href="#define-target-structure" title="Link to this heading"></a></h2>
<ol class="arabic" start="2">
<li><p>The <strong>GI tab</strong> is kept as default. (The GI tab is not used when a surrogate model is used in the SIM tab)</p></li>
<li><p>In <strong>SIM tab</strong>, the surrogate model (.json) trained in <a class="reference internal" href="../eeuq-0009/README.html#eeuq-0009"><span class="std std-ref">Example 09</span></a> is imported as shown in the figure.</p>
<blockquote>
<div><figure class="align-center" id="id2">
<a class="reference internal image-reference" href="../../../../../_images/EE10_SIM.png"><img alt="Screenshot of a user interface from a software application, showing the 'Building Model Generator' section with a dropdown menu titled 'Surrogate (GP)' selected. Below it, there is an input field for 'SurrogateGP Info (.json)' with a file path entered and a 'Choose' button to its right. The options section includes 'GP output' dropdown menu with 'Random sample under prediction uncertainty' selected and an unchecked 'Advanced Options' checkbox. To the left, vertical navigation tabs are partially visible with labels 'UQ', 'GI', 'SIM', and 'EVT', where 'SIM' is highlighted." src="../../../../../_images/EE10_SIM.png" style="width: 900px;" />
</a>
<figcaption>
<p><span class="caption-number">Fig. 4.10.2.1 </span><span class="caption-text">SIM tab</span><a class="headerlink" href="#id2" title="Link to this image"></a></p>
</figcaption>
</figure>
</div></blockquote>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><a class="reference internal" href="../eeuq-0009/README.html#eeuq-0009"><span class="std std-ref">Example 09</span></a> describes how to train the GP surrogate model and save it as <cite>.json</cite> format.</p>
</div>
<p>When the option “Random sample under prediction uncertainty” is selected, the predictions from GP are random realizations that account for both model uncertainty and a portion of uncertainty in the ground motion time histories (i.e. the remaining uncertainty after given intensity measures (IMs)). Alternatively, when the user is interested in only the mean of the response, disregarding all the uncertainties, the user can select “Median (representative) prediction”.</p>
</li>
</ol>
</section>
<section id="select-ground-motions">
<h2><span class="section-number">4.10.3. </span>Select Ground Motions<a class="headerlink" href="#select-ground-motions" title="Link to this heading"></a></h2>
<ol class="arabic" start="4">
<li><p>In <strong>EVT tab</strong>, <strong>PEER NGA ground motion records</strong> option is selected. Let us consider the site of interest located at (37.8715, -122.273), of which we would like to select ground motions that follow USGS Uniform Hazard Spectrum (2014 v4.2.0) with return period 2475. Vs30 is assumed 760 m/s. Let us select 30 ground motion time histories that match this spectrum by clicking <strong>Select records</strong> button. The target response spectrum curve and the selected ground motions will be displayed on the right-hand side panel as shown below.</p>
<blockquote>
<div><figure class="align-center" id="id3">
<a class="reference internal image-reference" href="../../../../../_images/EE10_EVT1.png"><img alt="Screenshot of a software interface for seismic analysis with two sections: &quot;Target Spectrum&quot; on the left and &quot;Record Selection&quot; on the right. The &quot;Target Spectrum&quot; section has fields for Type, with &quot;Uniform Hazard Spectrum (USGS NSHMP)&quot; selected from a dropdown menu, Latitude set to 37.8715, Longitude set to -122.273, Edition set to &quot;2014 v4.2.0 (Dynamic)&quot; from a dropdown menu, Vs30 set to &quot;760 (B/C)&quot; with m/s unit, and Return Period set to 2475 years. The &quot;Record Selection&quot; section includes a field for &quot;Number of Records&quot; set to 30, drop-down menus for &quot;Fault Type&quot; with &quot;All Types&quot; selected, and &quot;Pulse&quot; with &quot;All&quot; selected. There are checkboxes for &quot;Magnitude,&quot; &quot;Distance,&quot; &quot;Vs30,&quot; and &quot;D5-95,&quot; each followed by an empty text box with units indicated as km, m/s, and sec." src="../../../../../_images/EE10_EVT1.png" style="width: 900px;" />
</a>
<figcaption>
<p><span class="caption-number">Fig. 4.10.3.1 </span><span class="caption-text">EVT tab - target response spectrum</span><a class="headerlink" href="#id3" title="Link to this image"></a></p>
</figcaption>
</figure>
<figure class="align-center" id="id4">
<a class="reference internal image-reference" href="../../../../../_images/EE10_EVT3.png"><img alt="A graph titled &quot;Response Spectra&quot; showing a collection of curves that represent spectral acceleration versus period in seconds. A dense plot of thin grey lines likely represents individual response spectra. There are highlighted lines indicating the mean (thick blue line), mean plus standard deviation and mean minus standard deviation (thin black lines around the mean), and target spectrum (dotted red lines). The axes are logarithmic, with spectral acceleration on the y-axis and period on the x-axis. The graph displays data variability and conformities to a target response spectrum in engineering or seismology." src="../../../../../_images/EE10_EVT3.png" style="width: 600px;" />
</a>
<figcaption>
<p><span class="caption-number">Fig. 4.10.3.2 </span><span class="caption-text">EVT tab - selected ground motion records on the response spectrum curve</span><a class="headerlink" href="#id4" title="Link to this image"></a></p>
</figcaption>
</figure>
</div></blockquote>
</li>
</ol>
<p>The list of the selected ground motions is shown in the table.</p>
<blockquote>
<div><figure class="align-center" id="id5">
<a class="reference internal image-reference" href="../../../../../_images/EE10_EVT2.png"><img alt="Screenshot of a computer interface related to seismic activity analysis with a section labeled &quot;Temporary records Directory&quot; displaying a file path, and a table titled &quot;Ground Motion Components&quot; showing entries related to earthquakes, including columns for RSN, Scale, Earthquake, Station, Magnitude, Distance, Vs30, and Hc. Below are additional settings for &quot;Scaling/Selection Criteria&quot; with options for scaling method, selection error weight function, and a blue &quot;Select Records&quot; button at the bottom." src="../../../../../_images/EE10_EVT2.png" style="width: 600px;" />
</a>
<figcaption>
<p><span class="caption-number">Fig. 4.10.3.3 </span><span class="caption-text">EVT tab - temporary records directory and scaling options</span><a class="headerlink" href="#id5" title="Link to this image"></a></p>
</figcaption>
</figure>
</div></blockquote>
<p>The actual time histories are saved in the “Temporary Records Directory”.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Due to copyright issues, PEER imposes a strict limit on the number of records that can be downloaded within a unique time window. The current limit is set at approximately 200 records every two weeks, 400 every month. Please make sure this limit is not exceeded. Otherwise, the analysis will fail.</p>
</div>
<ul class="simple">
<li><p><strong>Temporary Records Directory</strong> is where the downloaded ground motion records are stored. It is recommended to specify a directory here instead of using the default temporary directory, in order to reuse the time history data in future analysis.</p></li>
<li><p><strong>Acceleration Components</strong> option is used to select the directional components to be used in the analysis. For example, if H1 is selected, single-direction ground motion will be excited to the structure.</p></li>
</ul>
<ol class="arabic" start="5">
<li><p>In <strong>FEM tab</strong> select <strong>None (only for surrogate)</strong>.</p>
<blockquote>
<div><figure class="align-center" id="id6">
<a class="reference internal image-reference" href="../../../../../_images/EE10_FEM.png"><img alt="A user interface with a left-side vertical nav bar featuring the labels &quot;UQ&quot; at the top and &quot;GI&quot; at the bottom. The main panel is titled &quot;FE Application&quot; and includes a dropdown menu with the option &quot;None (only for surrogate)&quot; selected. The interface has a minimalist design with grayscale colors." src="../../../../../_images/EE10_FEM.png" style="width: 900px;" />
</a>
<figcaption>
<p><span class="caption-number">Fig. 4.10.3.4 </span><span class="caption-text">FEM tab</span><a class="headerlink" href="#id6" title="Link to this image"></a></p>
</figcaption>
</figure>
</div></blockquote>
</li>
<li><p>The <strong>EDP tab</strong> is automatically populated with the EDP names used when training the surrogate. Keep the option  <strong>None (only for surrogate)</strong></p>
<blockquote>
<div><figure class="align-center" id="id7">
<a class="reference internal image-reference" href="../../../../../_images/EE10_EDP.png"><img alt="Screenshot of a software interface with a vertical toolbar on the left side containing acronyms such as UQ, GI, SIM, EVT, FEM, EDP, RV, and RES, highlighted in dark shades. On the right, a selected tab reads &quot;Engineering Demand Parameter Generator&quot; with a drop-down menu stating &quot;None (only for surrogate)&quot; and a list of alphanumeric codes below it such as &quot;1-PFA-0-1,&quot; &quot;1-PFD-1-1,&quot; &quot;1-PID-1-1,&quot; and similar patterns, suggesting parameters or settings within the engineering software." src="../../../../../_images/EE10_EDP.png" style="width: 900px;" />
</a>
<figcaption>
<p><span class="caption-number">Fig. 4.10.3.5 </span><span class="caption-text">EDP tab</span><a class="headerlink" href="#id7" title="Link to this image"></a></p>
</figcaption>
</figure>
</div></blockquote>
</li>
</ol>
</section>
<section id="distribution-of-random-variables">
<h2><span class="section-number">4.10.4. </span>Distribution of Random Variables<a class="headerlink" href="#distribution-of-random-variables" title="Link to this heading"></a></h2>
<ol class="arabic" start="7">
<li><p>The <strong>RV tab</strong> is pre-populated with the random variables that were used to train the surrogate. Change the distribution of the statistical parameters as desired. In this example, the stiffness is assumed to be distributed around 120 with a standard deviation of 5.</p>
<blockquote>
<div><figure class="align-center" id="id8">
<a class="reference internal image-reference" href="../../../../../_images/EE10_RV.png"><img alt="&quot;Screenshot of a user interface for inputting random variables, showing a sidebar with the labels UQ, GI, and SIM. The main panel is titled 'Input Random Variables' with fields for 'Variable Name', 'Input Type', 'Distribution', 'Mean', and 'Standard Dev'. The variable name 'K' is entered with 'Parameters' selected as the input type, 'Normal' distribution, a mean of 120, and a standard deviation of 5. There are buttons for 'Add', 'Clear All', 'Correlation Matrix', 'Show PDF', 'Export', and 'Import'.&quot;" src="../../../../../_images/EE10_RV.png" style="width: 900px;" />
</a>
<figcaption>
<p><span class="caption-number">Fig. 4.10.4.1 </span><span class="caption-text">RV tab</span><a class="headerlink" href="#id8" title="Link to this image"></a></p>
</figcaption>
</figure>
</div></blockquote>
</li>
</ol>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Note that the surrogate modeling is essentially based on “interpolation”. Therefore, the distribution of stiffness should not significantly exceed the training bound. If a sampled stiffness value lies outside of the training range, [50, 150] in this example, the prediction from the surrogate model for that sample is likely not reliable.</p>
</div>
</section>
<section id="run-the-analysis-and-process-results">
<h2><span class="section-number">4.10.5. </span>Run the Analysis and Process Results<a class="headerlink" href="#run-the-analysis-and-process-results" title="Link to this heading"></a></h2>
<ol class="arabic" start="8">
<li><p>Click <strong>Run</strong> button. The analysis may take several minutes. The <strong>RES tab</strong> will be highlighted when the analysis is completed</p></li>
<li><p>The obtained statistics of responses are shown in the “Summary tab”</p>
<blockquote>
<div><figure class="align-center" id="id9">
<a class="reference internal image-reference" href="../../../../../_images/EE10_RES1.png"><img alt="A screenshot of a statistical analysis interface showing a table with various entries under the headings &quot;Name,&quot; &quot;Mean,&quot; &quot;StdDev&quot; (Standard Deviation), &quot;Skewness,&quot; and &quot;Kurtosis.&quot; Each row provides the name and statistical values for a different dataset, with names such as &quot;1-DS575-0-1,&quot; &quot;1-PSA(0.5s)-0-1,&quot; and &quot;1-SaRatio-0-1.&quot; The data values vary across different rows, indicating diverse statistical properties of the datasets. The interface has a left-side navigation bar with shortened titles like &quot;UQ,&quot; &quot;GI,&quot; &quot;SIM,&quot; with &quot;RES&quot; highlighted." src="../../../../../_images/EE10_RES1.png" style="width: 900px;" />
</a>
<figcaption>
<p><span class="caption-number">Fig. 4.10.5.1 </span><span class="caption-text">RES tab - summary of response statistics</span><a class="headerlink" href="#id9" title="Link to this image"></a></p>
</figcaption>
</figure>
</div></blockquote>
</li>
<li><p>In the “Data Values” tab, one can plot the histogram and cumulative density function (CDF) of the samples, as well as scatter plots between the input and output of surrogate predictions</p></li>
</ol>
<blockquote>
<div><figure class="align-center" id="id10">
<a class="reference internal image-reference" href="../../../../../_images/EE10_RES2.png"><img alt="A screenshot of a computer interface involving data analysis. On the left side, a vertical navigation menu with options like UQ, GI, SIM, EVT, FEM, EDP, RV, and RES is shown with RES highlighted. In the main pane, there are two tabs: &quot;Summary&quot; and &quot;Data Values.&quot; The &quot;Data Values&quot; tab is active, showing a cumulative frequency distribution graph to the left. Next to the graph, there is a grid of data values with headers such as &quot;1-DSS75-0-2,&quot; &quot;1-PSA(0.5s)-0-2,&quot; &quot;1-SaRatio-0-2,&quot; &quot;1-PFA-0-1,&quot; and &quot;1-PFA-0-1 Predictions.&quot; Below the data grid, there are options to &quot;Save Table,&quot; &quot;Save Columns Separately,&quot; &quot;Save RVs,&quot; &quot;Save QoIs,&quot; and &quot;Save Surrogate Predictions.&quot; A checkbox labeled &quot;Show surrogate model prediction bounds&quot; is at the top next to the tabs." src="../../../../../_images/EE10_RES2.png" style="width: 900px;" />
</a>
<figcaption>
<p><span class="caption-number">Fig. 4.10.5.2 </span><span class="caption-text">RES tab - cumulative density function</span><a class="headerlink" href="#id10" title="Link to this image"></a></p>
</figcaption>
</figure>
<figure class="align-center" id="id11">
<a class="reference internal image-reference" href="../../../../../_images/EE10_RES3.png"><img alt="Screenshot of a computer interface with a scatterplot and a data table. The scatterplot shows various data points with error bars and is labeled with axes &quot;1-SaRatio-0-1&quot; and &quot;1-PJD-3-1.&quot; A correlation coefficient of 0.72 is displayed. The data table to the right lists values under headings such as &quot;1-PFA-3-2&quot; and &quot;1-PFD-3-1,&quot; with one value highlighted in blue. The interface includes tabs like &quot;Summary&quot; and &quot;Data Values,&quot; and buttons for saving the table, columns, RVs, QoIs, and Surrogate Predictions. There is also a checkbox option titled &quot;Show surrogate model prediction bounds.&quot;" src="../../../../../_images/EE10_RES3.png" style="width: 900px;" />
</a>
<figcaption>
<p><span class="caption-number">Fig. 4.10.5.3 </span><span class="caption-text">RES tab - scatter plots</span><a class="headerlink" href="#id11" title="Link to this image"></a></p>
</figcaption>
</figure>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The user can interact with the plot as follows.</p>
<ul class="simple">
<li><p>Windows: left-click sets the Y axis (ordinate).  right-click sets the X axis (abscissa).</p></li>
<li><p>MAC: fn-clink, option-click, and command-click all set the Y axis (ordinate).  ctrl-click sets the X axis (abscissa).</p></li>
</ul>
</div>
<p>In the scatter plot, the gray square markers represent the mean prediction from the surrogate, gray bounds denote the 90% prediction interval, orange bounds denote the 90% confidence interval of the mean prediction, and blue dots represent the sample obtained from the surrogate prediction.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p>The term “90% prediction interval” is the interval in which the exact “response”, i.e. dynamic simulation output, will fall with 90% probability.</p></li>
<li><p>The term “90% confidence interval” is the estimated range of the “mean response”. Therefore, the confidence interval is always tighter than the prediction interval.</p></li>
</ul>
</div>
</div></blockquote>
<ol class="arabic simple" start="11">
<li><p><strong>[Verification]</strong> Only for verification purposes, an additional forward propagation is performed using the exact simulation model instead of the surrogate model, using the exact same ground motion/structural parameters. For this, UQ, GI, EVT, and RV tabs are kept unchanged, and SIM, FEM, and EDP tabs are modified to replace the surrogate with the original model, i.e. for SIM, FEM, EDP tabs, the exact same configuration used in <a class="reference internal" href="../eeuq-0009/README.html#eeuq-0009"><span class="std std-ref">example 09</span></a> was used.  Below is a comparison of the obtained mean log-EDPs from 30 samples:</p></li>
</ol>
<blockquote>
<div><figure class="align-center" id="id12">
<a class="reference internal image-reference" href="../../../../../_images/EE10_RES4_1.png"><img alt="A bar chart titled 'Mean of log EDP' showing two sets of bars for each category on the x-axis labeled with various codes such as '1_PFRA-0-1', '1_PFRA-1-2', '1_PFED-3-1', etc. The categories represent different data groups, and each group has two bars adjacent to each other; one bar is colored blue, labeled 'original', and the other is colored orange, labeled 'surrogate'. The y-axis represents the mean of log EDP with values ranging from approximately -5 to 5. The pattern of the bars indicates a comparison between the &quot;original&quot; and &quot;surrogate&quot; data across the different categories." src="../../../../../_images/EE10_RES4_1.png" style="width: 700px;" />
</a>
<figcaption>
<p><span class="caption-number">Fig. 4.10.5.4 </span><span class="caption-text">Comparing median of log-EDP</span><a class="headerlink" href="#id12" title="Link to this image"></a></p>
</figcaption>
</figure>
</div></blockquote>
<p>The same comparison in the original scale is shown below.</p>
<blockquote>
<div><figure class="align-default" id="id13">
<img alt="../../../../../_images/EE10_RES4_2.png" src="../../../../../_images/EE10_RES4_2.png" />
</figure>
<dl class="field-list">
<dt class="field-odd">alt<span class="colon">:</span></dt>
<dd class="field-odd"><p>The image shows two bar charts side by side. On the left, the chart is titled “Original scale (PSA)” and represents the median PSA values, which range from 0 to 250, for different categories labeled 1-PFA-0-1 to 1-PFA-3-2. The bars are arranged in pairs for each category, with colors alternating between blue and brown. On the right, the chart is titled “Original scale (PFD)” and illustrates the median PFD values, which vary between 0 and 6 for categories labeled 1-PFD-1-1 to 1-PFD-3-2, also with alternating blue and brown bars in pairs. Each pair in both charts likely represents a different condition or measurement within the category.
:align: center
:width: 700
:figclass: align-center</p>
<p>Comparison of log-standard deviation</p>
</dd>
</dl>
</div></blockquote>
<p>On the other hand, the log-standard deviation of the EDPs from 30 samples is obtained as below.</p>
<blockquote>
<div><figure class="align-center" id="id14">
<a class="reference internal image-reference" href="../../../../../_images/EE10_RES4_3.png"><img alt="A bar chart comparing the standard deviation of log EDP (Engineering Demand Parameter) between original and surrogate data. The x-axis lists different data sets labeled 1-PFA-0-1, 1-PFA-1-1, and so on, up to 1-PRD-3-1. The y-axis ranges from 0 to 1 in increments of 0.2. Blue bars represent original data, and orange bars represent surrogate data. The bars vary in height, indicating differences in the standard deviation of log EDP for each data set. The orange bars generally appear to show a higher standard deviation than the blue bars." src="../../../../../_images/EE10_RES4_3.png" style="width: 700px;" />
</a>
<figcaption>
<p><span class="caption-number">Fig. 4.10.5.5 </span><span class="caption-text">Comparing the standard deviation of log-EDP</span><a class="headerlink" href="#id14" title="Link to this image"></a></p>
</figcaption>
</figure>
</div></blockquote>
<p>The estimated medians of EDPs from the surrogate and the original model show in general good agreement. The standard deviation of the surrogate model is larger partly because of the added uncertainty in the surrogate model approximation. The difference in the statistics may also be attributed to the small sample size of 30.</p>
</section>
</section>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025, The Regents of the University of California.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>
    <!-- Theme Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-158130480-1"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-158130480-1', {
          'anonymize_ip': false,
      });
    </script>  

  <style>
         .wy-nav-content { max-width: none; }
  </style>

<script>
    /*
    let selectedFilters = [];
    const images  = document.getElementsByClassName("gallery-item");
    const filters = [...document.querySelectorAll('.filter select')];
    const toggles = [...document.querySelectorAll('.filter input')];

    var show = function (elem) {
        elem.style.display = 'block';
    };
    var hide = function (elem) {
        elem.style.display = 'none';
    };
    var toggleFilter =  function(el,elid) {
        const filter = document.getElementById(elid);
        filter.disabled = !el.checked;
       
        if ("createEvent" in document) {
            var evt = document.createEvent("HTMLEvents");
            evt.initEvent("change", false, true);
            filter.dispatchEvent(evt);
        }
        else
            filter.fireEvent("change");
    };
    
    for (const filter of filters) {
        filter.addEventListener('change', function(event) {
            selectedFilters = filters.map(filter => filter.disabled ? '' : filter.value).filter(Boolean);
            console.log(selectedFilters);
            for (const image of images) {
                if (selectedFilters.every(filter => image.classList.contains(filter))) {
                    show(image);
                }
                else {hide(image)};
            };
        })
    };
    */
</script>


</body>
</html>