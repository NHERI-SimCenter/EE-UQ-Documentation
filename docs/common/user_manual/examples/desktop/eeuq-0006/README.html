

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>3.6. PLoM Surrogate Model &mdash; Earthquake Engineering with Uncertainty Quantification  documentation</title>
  

  
  <link rel="stylesheet" href="../../../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../../../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../../../_static/tabs.css" type="text/css" />
  <link rel="stylesheet" href="../../../../../_static/design-style.1e8bd061cd6da7fc9cf755528e8ffc24.min.css" type="text/css" />
  <link rel="stylesheet" href="../../../../../_static/sphinxcontrib-images/LightBox2/lightbox2/dist/css/lightbox.css" type="text/css" />
  <link rel="stylesheet" href="../../../../../_static/css/custom.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../../../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../../../" src="../../../../../_static/documentation_options.js"></script>
        <script data-url_root="../../../../../" id="documentation_options" src="../../../../../_static/documentation_options.js"></script>
        <script src="../../../../../_static/jquery.js"></script>
        <script src="../../../../../_static/underscore.js"></script>
        <script src="../../../../../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../../../../../_static/doctools.js"></script>
        <script src="../../../../../_static/design-tabs.js"></script>
        <script src="../../../../../_static/sphinxcontrib-images/LightBox2/lightbox2/dist/js/lightbox-plus-jquery.min.js"></script>
        <script src="../../../../../_static/sphinxcontrib-images/LightBox2/lightbox2-customize/jquery-noconflict.js"></script>
    
    <script type="text/javascript" src="../../../../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../../search.html" />
    <link rel="next" title="3.7. Target Spectrum by Surrogate Hazard GP Model" href="../eeuq-0007/README.html" />
    <link rel="prev" title="3.5. Synthetic Ground Motion Applied to a Shear Buildilng" href="../eeuq-0005/README.html" />
<script src="https://cdn.jsdelivr.net/npm/vega@5.12.1"></script>
<script src="https://cdn.jsdelivr.net/npm/vega-lite@4.13.1"></script>
<script src="https://cdn.jsdelivr.net/npm/vega-embed@6.8.0"></script>
<style media="screen">.vega-actions a {margin-right: 5px;}</style>
<link href="../../../../../_static/css/bootstrap.css" rel="stylesheet">

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: #F2F2F2" >
          
<a href="https://simcenter.designsafe-ci.org/" style="margin-bottom: 0px;">
  <img src="../../../../../_static/img/SimCenter-Only.png" class="logo" alt="Org-Logo" />
</a>
<hr style="margin: 0px;">

  <a href="../../../../../index.html">



  
  <img src="../../../../../_static/EE-UQ-Logo.png" class="logo" alt="Logo"/>

</a>


  
  



<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>


        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption" role="heading"><span class="caption-text">About</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../about/EEUQ/about.html">1. About</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../front-matter/desktop/ack.html">2. Acknowledgments</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../front-matter/license.html">3. Copyright and License</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../front-matter/cite.html">4. How To Cite</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../releases/eeCapabilities.html">5. Capabilities</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../releases/eeReleaseNotes.html">6. Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../releases/eePlans.html">7. Release Plans</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../front-matter/glossary.html">8. Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../front-matter/abbreviations.html">9. Abbreviations</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">User Manual</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../installation/desktop/installation.html">1. Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../usage/desktop/usage.html">2. User Interface</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../examples.html">3. Examples</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../eeuq-0001/README.html">3.1. Sampling, Reliability and Sensitivity Analysis of a Shear Building</a></li>
<li class="toctree-l2"><a class="reference internal" href="../eeuq-0002/README.html">3.2. Site Response Analysis with Spatial Variability</a></li>
<li class="toctree-l2"><a class="reference internal" href="../eeuq-0003/README.html">3.3. PEER Ground Motion Selection and Nonlinear Response Analysis</a></li>
<li class="toctree-l2"><a class="reference internal" href="../eeuq-0004/README.html">3.4. AutoSDA and Nonlinear Response Analysis</a></li>
<li class="toctree-l2"><a class="reference internal" href="../eeuq-0005/README.html">3.5. Synthetic Ground Motion Applied to a Shear Buildilng</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">3.6. PLoM Surrogate Model</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#configure-uq-engine">3.6.1. Configure UQ Engine</a></li>
<li class="toctree-l3"><a class="reference internal" href="#configure-structural-analysis">3.6.2. Configure Structural Analysis</a></li>
<li class="toctree-l3"><a class="reference internal" href="#run-the-analysis-and-post-process-results">3.6.3. Run the analysis and post-process results</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../eeuq-0007/README.html">3.7. Target Spectrum by Surrogate Hazard GP Model</a></li>
<li class="toctree-l2"><a class="reference internal" href="../eeuq-0008/README.html">3.8. Using Multiple Models and Analysis Options in EE-UQ</a></li>
<li class="toctree-l2"><a class="reference internal" href="../eeuq-0009/README.html">3.9. Training GP Surrogate Model</a></li>
<li class="toctree-l2"><a class="reference internal" href="../eeuq-0010/README.html">3.10. Prediction from GP Surrogate Model</a></li>
<li class="toctree-l2"><a class="reference internal" href="../eeuq-0011/README.html">3.11. Multi-fidelity Monte Carlo Simulation</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../troubleshooting/desktop/troubleshooting.html">4. Troubleshooting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../reqments/EEUQ.html">5. Requirements</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../bugs.html">6. Bugs &amp; Feature Requests</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Technical Manual</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../technical_manual/desktop/uqTechnical.html">1. Dakota Methods</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../technical_manual/desktop/SimCenterUQTechnical.html">2. Methods in SimCenterUQ Engine</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../technical_manual/desktop/damping.html">3. Damping Options</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../technical_manual/desktop/spatial_correlation.html">4. Ground Motion Intensity Spatial Correlation Model Options</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Developer Manual</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../developer_manual/how_to_build/desktop/how_to_build.html">1. How to Build</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../developer_manual/architecture/desktop/architecture.html">2. Software Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../developer_manual/how_to_extend/desktop/how_to_extend.html">3. How to Extend</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../developer_manual/verification/desktop/verification.html">4. Verification</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../developer_manual/coding_style/desktop/coding_style.html">5. Coding Style</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../../index.html">Earthquake Engineering with Uncertainty Quantification</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../examples.html"><span class="section-number">3. </span>Examples</a> &raquo;</li>
        
      <li><span class="section-number">3.6. </span>PLoM Surrogate Model</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../../../../../_sources/common/user_manual/examples/desktop/eeuq-0006/README.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="plom-surrogate-model">
<span id="eeuq-0006"></span><h1><span class="section-number">3.6. </span>PLoM Surrogate Model<a class="headerlink" href="#plom-surrogate-model" title="Permalink to this heading">¶</a></h1>
<p>One essential step in seismic structural performance assessment is evaluating structural responses
under earthquake ground motion inputs. The typical workflow is demonstrated in <a class="reference external" href="https://nheri-simcenter.github.io/EE-UQ-Documentation/common/user_manual/examples/desktop/eeuq-0003/README.html">Example 4.3</a>.
The trade-off between computational efficiency and accuracy is one of the major challenges in problems that
require a large number of time history analyses (e.g., risk analysis, and structural optimization). One
possible solution is using surrogate models (e.g., response surface, kriging). The surrogate models are first
trained for interested responses given a set of relatively expensive simulations. The resulting models can then be
applied to predict new realizations more efficiently.</p>
<div class="align-center figure" id="id3">
<a class="reference internal image-reference" href="../../../../../_images/res_comp3.png"><img alt="../../../../../_images/res_comp3.png" src="../../../../../_images/res_comp3.png" style="width: 400px;" /></a>
<p class="caption"><span class="caption-number">Fig. 3.6.1 </span><span class="caption-text">Samples generated from the physical simulation model (blue) and the surrogate model (orange)</span><a class="headerlink" href="#id3" title="Permalink to this image">¶</a></p>
</div>
<p>This example demonstrates using a novel method, Probabilistic Learning on Manifolds (PLoM) <a class="reference internal" href="#soize2016" id="id1"><span>[Soize2016]</span></a>, to develop surrogate models
for structural responses under earthquake ground motion inputs.</p>
<div class="section" id="configure-uq-engine">
<h2><span class="section-number">3.6.1. </span>Configure UQ Engine<a class="headerlink" href="#configure-uq-engine" title="Permalink to this heading">¶</a></h2>
<ol class="arabic simple">
<li><p>Navigate to the <strong>UQ</strong> tab in the left menu. In this panel, select the <strong>SimCenterUQ</strong> as the
<strong>UQ Engine</strong>. In the <strong>SimCenterUQ Method Category</strong>, select the <strong>PLoM Model</strong> method. There are
two options for defining a training dataset, <strong>Import Data File</strong> and <strong>Sampling and Simulation</strong>. We
start with <strong>Sampling and Simulation</strong> here while the former will be introduced later. <strong>LHS</strong> is
used as the sampling method with 20 samples (corresponding to the 20 ground motions in the run). And we
would like to generate 40 new realizations from the 20 training samples
(i.e., the <strong>New Sample Number Ratio</strong> is 2).</p></li>
</ol>
<div class="align-center figure" id="fig-uq-plot">
<a class="reference internal image-reference" href="../../../../../_images/uq_plom.png"><img alt="../../../../../_images/uq_plom.png" src="../../../../../_images/uq_plom.png" style="width: 100%;" /></a>
</div>
<ol class="arabic simple" start="2">
<li><p>Activate the <strong>Advanced Options</strong> and select <strong>Affiliate Variable</strong>. In the <strong>Type</strong> options, select
<strong>Ground Motion Intensity</strong> - <strong>Intensity Measure Calculation</strong> window would be displayed and allow
users to add/remove intensity measures to the surrogate models. In this example, we add two intensity
measures, <strong>Pseudo Spectral Acceleration</strong> and <strong>SaRatio</strong>.</p></li>
</ol>
<div class="align-center figure" id="fig-bim">
<a class="reference internal image-reference" href="../../../../../_images/uq_imc.png"><img alt="../../../../../_images/uq_imc.png" src="../../../../../_images/uq_imc.png" style="width: 100%;" /></a>
</div>
</div>
<div class="section" id="configure-structural-analysis">
<h2><span class="section-number">3.6.2. </span>Configure Structural Analysis<a class="headerlink" href="#configure-structural-analysis" title="Permalink to this heading">¶</a></h2>
<ol class="arabic simple">
<li><p>Navigate to the <strong>SIM</strong> tab and select the <strong>MDOF</strong> as the <strong>Building Model Generator</strong>. In this example
we use a simple nonlinear SDOF model (yield displacement is 0.01 inch and hardening ratio is 0.1).</p></li>
</ol>
<div class="align-center figure" id="fig-sim">
<a class="reference internal image-reference" href="../../../../../_images/sim2.png"><img alt="../../../../../_images/sim2.png" src="../../../../../_images/sim2.png" style="width: 100%;" /></a>
</div>
<ol class="arabic simple" start="2">
<li><p>Navigate to the <strong>EVT</strong> tab and select the <strong>PEER NGA Records</strong>. We select 20 ground motions to match the
default Design Spectrum for analyzing the structural responses under earthquake inputs.</p></li>
</ol>
<div class="align-center figure" id="fig-evt">
<a class="reference internal image-reference" href="../../../../../_images/evt3.png"><img alt="../../../../../_images/evt3.png" src="../../../../../_images/evt3.png" style="width: 100%;" /></a>
</div>
<ol class="arabic simple" start="3">
<li><p>For the <strong>FEM</strong> and <strong>EDP</strong> panels, we use default setups to analyze the structural model and record the
standard earthquake EDPs, i.e., peak displacement, drift ratio, and acceleration demands.</p></li>
</ol>
<div class="align-center figure" id="fig-fem">
<a class="reference internal image-reference" href="../../../../../_images/fem2.png"><img alt="../../../../../_images/fem2.png" src="../../../../../_images/fem2.png" style="width: 100%;" /></a>
</div>
<div class="align-center figure" id="fig-edp">
<a class="reference internal image-reference" href="../../../../../_images/edp.png"><img alt="../../../../../_images/edp.png" src="../../../../../_images/edp.png" style="width: 100%;" /></a>
</div>
</div>
<div class="section" id="run-the-analysis-and-post-process-results">
<h2><span class="section-number">3.6.3. </span>Run the analysis and post-process results<a class="headerlink" href="#run-the-analysis-and-post-process-results" title="Permalink to this heading">¶</a></h2>
<ol class="arabic simple">
<li><p>Next click on the <strong>Run</strong> button. This will call the backend application to launch the analysis. When done
the <strong>RES</strong> panel will first arrive at the <strong>Summary</strong> panel. Two plots are created to summarize the PLoM training
results in the panel (i.e., errors in PCA approximation and diffusion-maps eigenvalues) which can be switched around
by clicking the <strong>PCA</strong> and <strong>KDE</strong> tabs located on the top-right corner of the chart.</p></li>
</ol>
<div class="align-center figure" id="fig-res-summary">
<a class="reference internal image-reference" href="../../../../../_images/res_summary.png"><img alt="../../../../../_images/res_summary.png" src="../../../../../_images/res_summary.png" style="width: 100%;" /></a>
</div>
<div class="align-center figure" id="fig-res-kde">
<a class="reference internal image-reference" href="../../../../../_images/res_kde.png"><img alt="../../../../../_images/res_kde.png" src="../../../../../_images/res_kde.png" style="width: 60%;" /></a>
</div>
<ol class="arabic simple" start="2">
<li><p>One could save the PLoM model by clicking on <strong>Save PLoM Model</strong> - an HDF-formatted database along with supplemental
files will be stored in the user-defined directory. The saved model can be imported for generating new realizations
which will be introduced in a second.</p></li>
</ol>
<div class="align-center figure" id="fig-res-save">
<a class="reference internal image-reference" href="../../../../../_images/res_save.png"><img alt="../../../../../_images/res_save.png" src="../../../../../_images/res_save.png" style="width: 100%;" /></a>
</div>
<ol class="arabic simple" start="3">
<li><p>One could navigate to the <strong>Data Value</strong> panel to visualize and save the new realizations.</p></li>
</ol>
<div class="align-center figure" id="fig-res-data">
<a class="reference internal image-reference" href="../../../../../_images/res_data.png"><img alt="../../../../../_images/res_data.png" src="../../../../../_images/res_data.png" style="width: 70%;" /></a>
</div>
<ol class="arabic simple" start="4">
<li><p>The two figures below compare the data scatter plots between the simulation samples (training set) and
surrogate samples (prediction set) which are in good agreement.</p></li>
</ol>
<div class="align-center figure" id="fig-res-comp1">
<a class="reference internal image-reference" href="../../../../../_images/res_comp1.png"><img alt="../../../../../_images/res_comp1.png" src="../../../../../_images/res_comp1.png" style="width: 60%;" /></a>
</div>
<div class="align-center figure" id="id2">
<a class="reference internal image-reference" href="../../../../../_images/res_comp2.png"><img alt="../../../../../_images/res_comp2.png" src="../../../../../_images/res_comp2.png" style="width: 60%;" /></a>
</div>
<dl class="citation">
<dt class="label" id="soize2016"><span class="brackets"><a class="fn-backref" href="#id1">Soize2016</a></span></dt>
<dd><p>Soize, C., &amp; Ghanem, R. (2016). Data-driven probability concentration and sampling on the manifold. Journal of Computational Physics, 321, 242-258.</p>
</dd>
</dl>
</div>
</div>


           </div>
           
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2024, The Regents of the University of California.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
    <!-- Theme Analytics -->
    <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-158130480-1', 'auto');
    
    ga('send', 'pageview');
    </script>

    
    

  <style>
         .wy-nav-content { max-width: none; }
  </style>

<script>
    /*
    let selectedFilters = [];
    const images  = document.getElementsByClassName("gallery-item");
    const filters = [...document.querySelectorAll('.filter select')];
    const toggles = [...document.querySelectorAll('.filter input')];

    var show = function (elem) {
        elem.style.display = 'block';
    };
    var hide = function (elem) {
        elem.style.display = 'none';
    };
    var toggleFilter =  function(el,elid) {
        const filter = document.getElementById(elid);
        filter.disabled = !el.checked;
       
        if ("createEvent" in document) {
            var evt = document.createEvent("HTMLEvents");
            evt.initEvent("change", false, true);
            filter.dispatchEvent(evt);
        }
        else
            filter.fireEvent("change");
    };
    
    for (const filter of filters) {
        filter.addEventListener('change', function(event) {
            selectedFilters = filters.map(filter => filter.disabled ? '' : filter.value).filter(Boolean);
            console.log(selectedFilters);
            for (const image of images) {
                if (selectedFilters.every(filter => image.classList.contains(filter))) {
                    show(image);
                }
                else {hide(image)};
            };
        })
    };
    */
</script>


</body>
</html>