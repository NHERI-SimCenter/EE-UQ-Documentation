

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>3.3. PEER Ground Motion Selection and Nonlinear Response Analysis &mdash; Earthquake Engineering with Uncertainty Quantification  documentation</title>
  

  
  <link rel="stylesheet" href="../../../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../../../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../../../_static/tabs.css" type="text/css" />
  <link rel="stylesheet" href="../../../../../_static/design-style.1e8bd061cd6da7fc9cf755528e8ffc24.min.css" type="text/css" />
  <link rel="stylesheet" href="../../../../../_static/sphinxcontrib-images/LightBox2/lightbox2/dist/css/lightbox.css" type="text/css" />
  <link rel="stylesheet" href="../../../../../_static/css/custom.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../../../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../../../" src="../../../../../_static/documentation_options.js"></script>
        <script data-url_root="../../../../../" id="documentation_options" src="../../../../../_static/documentation_options.js"></script>
        <script src="../../../../../_static/jquery.js"></script>
        <script src="../../../../../_static/underscore.js"></script>
        <script src="../../../../../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../../../../../_static/doctools.js"></script>
        <script src="../../../../../_static/design-tabs.js"></script>
        <script src="../../../../../_static/sphinxcontrib-images/LightBox2/lightbox2/dist/js/lightbox-plus-jquery.min.js"></script>
        <script src="../../../../../_static/sphinxcontrib-images/LightBox2/lightbox2-customize/jquery-noconflict.js"></script>
        <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    
    <script type="text/javascript" src="../../../../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../../search.html" />
    <link rel="next" title="3.4. AutoSDA and Nonlinear Response Analysis" href="../eeuq-0004/README.html" />
    <link rel="prev" title="3.2. Site Response Analysis with Spatial Variability" href="../eeuq-0002/README.html" />
<script src="https://cdn.jsdelivr.net/npm/vega@5.12.1"></script>
<script src="https://cdn.jsdelivr.net/npm/vega-lite@4.13.1"></script>
<script src="https://cdn.jsdelivr.net/npm/vega-embed@6.8.0"></script>
<style media="screen">.vega-actions a {margin-right: 5px;}</style>
<link href="../../../../../_static/css/bootstrap.css" rel="stylesheet">

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: #F2F2F2" >
          
<a href="https://simcenter.designsafe-ci.org/" style="margin-bottom: 0px;">
  <img src="../../../../../_static/img/SimCenter-Only.png" class="logo" alt="Org-Logo" />
</a>
<hr style="margin: 0px;">

  <a href="../../../../../index.html">



  
  <img src="../../../../../_static/EE-UQ-Logo.png" class="logo" alt="Logo"/>

</a>


  
  



<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>


        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption" role="heading"><span class="caption-text">About</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../about/EEUQ/about.html">1. About</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../front-matter/desktop/ack.html">2. Acknowledgments</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../front-matter/license.html">3. Copyright and License</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../front-matter/cite.html">4. How To Cite</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../releases/eeCapabilities.html">5. Capabilities</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../releases/eeReleaseNotes.html">6. Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../releases/eePlans.html">7. Release Plans</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../front-matter/glossary.html">8. Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../front-matter/abbreviations.html">9. Abbreviations</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">User Manual</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../installation/desktop/installation.html">1. Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../usage/desktop/usage.html">2. User Interface</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../examples.html">3. Examples</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../eeuq-0001/README.html">3.1. Sampling, Reliability and Sensitivity Analysis of a Shear Building</a></li>
<li class="toctree-l2"><a class="reference internal" href="../eeuq-0002/README.html">3.2. Site Response Analysis with Spatial Variability</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">3.3. PEER Ground Motion Selection and Nonlinear Response Analysis</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#load-opensees-tcl-model-and-analysis-script">3.3.1. Load OpenSees/tcl model and analysis script</a></li>
<li class="toctree-l3"><a class="reference internal" href="#select-and-scale-ground-motion-records">3.3.2. Select and scale ground motion records</a></li>
<li class="toctree-l3"><a class="reference internal" href="#run-the-analysis-and-postprocess-results">3.3.3. Run the analysis and postprocess results</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../eeuq-0004/README.html">3.4. AutoSDA and Nonlinear Response Analysis</a></li>
<li class="toctree-l2"><a class="reference internal" href="../eeuq-0005/README.html">3.5. Synthetic Ground Motion Applied to a Shear Buildilng</a></li>
<li class="toctree-l2"><a class="reference internal" href="../eeuq-0006/README.html">3.6. PLoM Surrogate Model</a></li>
<li class="toctree-l2"><a class="reference internal" href="../eeuq-0007/README.html">3.7. Target Spectrum by Surrogate Hazard GP Model</a></li>
<li class="toctree-l2"><a class="reference internal" href="../eeuq-0008/README.html">3.8. Using Multiple Models and Analysis Options in EE-UQ</a></li>
<li class="toctree-l2"><a class="reference internal" href="../eeuq-0009/README.html">3.9. Training GP Surrogate Model</a></li>
<li class="toctree-l2"><a class="reference internal" href="../eeuq-0010/README.html">3.10. Prediction from GP Surrogate Model</a></li>
<li class="toctree-l2"><a class="reference internal" href="../eeuq-0011/README.html">3.11. Multi-fidelity Monte Carlo Simulation</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../troubleshooting/desktop/troubleshooting.html">4. Troubleshooting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../reqments/EEUQ.html">5. Requirements</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../bugs.html">6. Bugs &amp; Feature Requests</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Technical Manual</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../technical_manual/desktop/technical_manual.html">1. Technical Manual</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Developer Manual</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../developer_manual/how_to_build/desktop/how_to_build.html">1. How to Build</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../developer_manual/architecture/desktop/architecture.html">2. Software Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../developer_manual/how_to_extend/desktop/how_to_extend.html">3. How to Extend</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../developer_manual/verification/desktop/verification.html">4. Verification</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../developer_manual/coding_style/desktop/coding_style.html">5. Coding Style</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../../index.html">Earthquake Engineering with Uncertainty Quantification</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../examples.html"><span class="section-number">3. </span>Examples</a> &raquo;</li>
        
      <li><span class="section-number">3.3. </span>PEER Ground Motion Selection and Nonlinear Response Analysis</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../../../../../_sources/common/user_manual/examples/desktop/eeuq-0003/README.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="peer-ground-motion-selection-and-nonlinear-response-analysis">
<span id="eeuq-0003"></span><h1><span class="section-number">3.3. </span>PEER Ground Motion Selection and Nonlinear Response Analysis<a class="headerlink" href="#peer-ground-motion-selection-and-nonlinear-response-analysis" title="Permalink to this heading">¶</a></h1>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>To reproduce the result of this example, the user should first click <strong>EVT</strong> and <strong>Select Records</strong>, and then click the <strong>RUN</strong> button. See the below procedure for details.</p>
</div>
<p>Shown below is an OpenSees model sketch of a 2D steel-moment frame building. The building has a four-bay lateral frame with gravity system which is modeled by the leaning column in the model. The bottom two stories
use the column section of <span class="math notranslate nohighlight">\(W24 \times 207\)</span> and the beam section of <span class="math notranslate nohighlight">\(30 \times 108\)</span>.  The top two stories use the column section of <span class="math notranslate nohighlight">\(W24 \times 162\)</span>. The reduced beam section
(RBS) connections are adopted in all beams. This OpenSees model can be <a class="reference external" href="https://github.com/NHERI-SimCenter/EE-UQ/blob/master/Examples/eeuq-0003/src/MRF_4Story_Concentrated_model.tcl">downloaded </a>.</p>
<div class="align-center figure" id="fig-frame">
<a class="reference internal image-reference" href="../../../../../_images/frame2.png"><img alt="../../../../../_images/frame2.png" src="../../../../../_images/frame2.png" style="width: 800px;" /></a>
<p class="caption"><span class="caption-number">Fig. 3.3.1 </span><span class="caption-text">Four-story steel moment frame with reduced beam sections (RBS).</span><a class="headerlink" href="#fig-frame" title="Permalink to this image">¶</a></p>
</div>
<p>This example shows how to select ground motion records and run nonlinear time history analysis for the OpenSees/tcl
model of interest.</p>
<div class="section" id="load-opensees-tcl-model-and-analysis-script">
<h2><span class="section-number">3.3.1. </span>Load OpenSees/tcl model and analysis script<a class="headerlink" href="#load-opensees-tcl-model-and-analysis-script" title="Permalink to this heading">¶</a></h2>
<ol class="arabic simple">
<li><p>Navigate to the <strong>SIM</strong> tab in the left menu. In this panel, select the <strong>OpenSees</strong> as the
<strong>Building Model Generator</strong>. Use the <strong>Choose</strong> button to select the <a class="reference external" href="https://github.com/NHERI-SimCenter/EE-UQ/blob/master/Examples/eeuq-0003/src/MRF_4Story_Concentrated_model.tcl">OpenSees tcl file</a> as the <strong>Input</strong> <strong>Script</strong>. For
the <strong>Response</strong> <strong>Nodes</strong>, specify the node numbers on any one column line (e.g., 11, 12, 13, 14, 15 on
the left column line). The problem will then automatically create recorders to save the peak story responses
given the specified nodes.</p></li>
</ol>
<div class="align-center figure" id="fig-sim">
<a class="reference internal image-reference" href="../../../../../_images/sim.png"><img alt="../../../../../_images/sim.png" src="../../../../../_images/sim.png" style="width: 800px;" /></a>
</div>
<ol class="arabic simple" start="2">
<li><p>Navigate to the <strong>FEM</strong> tab and <strong>Choose</strong> the user-defined <a class="reference external" href="https://github.com/NHERI-SimCenter/EE-UQ/blob/master/Examples/eeuq-0003/src/MRF_4Story_Concentrated_solver.tcl">analysis script</a>. Note that the user-defined analysis script will overwrite other specifications in the fill-in boxes above.</p></li>
</ol>
<div class="align-center figure" id="fig-fem">
<a class="reference internal image-reference" href="../../../../../_images/fem.png"><img alt="../../../../../_images/fem.png" src="../../../../../_images/fem.png" style="width: 800px;" /></a>
</div>
</div>
<div class="section" id="select-and-scale-ground-motion-records">
<h2><span class="section-number">3.3.2. </span>Select and scale ground motion records<a class="headerlink" href="#select-and-scale-ground-motion-records" title="Permalink to this heading">¶</a></h2>
<ol class="arabic simple">
<li><p>Navigate to the <strong>EVT</strong> panel and select the <strong>PEER NGA Records</strong> as the <strong>Load Generator</strong>. We can use the
<strong>Design Spectrum (ASCE 7-10)</strong> as an example target spectrum here. First, please specify the <span class="math notranslate nohighlight">\(S_{DS}\)</span>,
<span class="math notranslate nohighlight">\(S_{D1}\)</span>, and <span class="math notranslate nohighlight">\(T_L\)</span>. Then on the left panel, please specify the number of records with optional
filters on the earthquake magnitude, site-source distance, and <span class="math notranslate nohighlight">\(V_{S30}\)</span>.</p></li>
<li><p>In the <strong>Scaling</strong> panel, we could use the <strong>Minimize MSE</strong> as the <strong>Scaling Method</strong> which will compute and
minimize the mean standard error between the average response spectrum and the target spectrum. You can specify
a set of periods and corresponding error-calucation weights.</p></li>
</ol>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>As specified by ASCE 7-16, you may want to let the period points at least cover the <span class="math notranslate nohighlight">\(0.2T_1\)</span> to
<span class="math notranslate nohighlight">\(1.5T_1\)</span> (<span class="math notranslate nohighlight">\(T_1\)</span> is the fundamental period of the structure).</p>
</div>
<ol class="arabic simple" start="3">
<li><p>For the 2D model in this example, we should use the acceleration components <strong>H1</strong> or <strong>H2</strong>, while the other
options (<strong>GeoMean</strong>, <strong>RotD50</strong>, and <strong>RotD100</strong>) are available for 3D models.</p></li>
<li><p>Once set up the configurations above, please click the <strong>Select Records</strong> which will connect the <a class="reference external" href="https://ngawest2.berkeley.edu/users/sign_in?unauthenticated=true">PEER NGA West
Ground Motion Database</a>. You could use your
account and password to login and execute the selection and scaling.</p></li>
</ol>
<div class="align-center figure" id="fig-evt">
<a class="reference internal image-reference" href="../../../../../_images/evt.png"><img alt="../../../../../_images/evt.png" src="../../../../../_images/evt.png" style="width: 800px;" /></a>
</div>
</div>
<div class="section" id="run-the-analysis-and-postprocess-results">
<h2><span class="section-number">3.3.3. </span>Run the analysis and postprocess results<a class="headerlink" href="#run-the-analysis-and-postprocess-results" title="Permalink to this heading">¶</a></h2>
<ol class="arabic simple">
<li><p>Navigate to the <strong>UQ</strong> panel, use the default <strong>Forward Propagation</strong> method with the <strong># Sample</strong> same as
the number of selected records.</p></li>
</ol>
<div class="align-center figure" id="fig-uq">
<a class="reference internal image-reference" href="../../../../../_images/uq.png"><img alt="../../../../../_images/uq.png" src="../../../../../_images/uq.png" style="width: 800px;" /></a>
</div>
<ol class="arabic simple" start="2">
<li><p>Next click on the <strong>Run</strong> button. This will cause the backend application to launch the analysis. When done
the <strong>RES</strong> panel will be selected and the results will be displayed. The results show the values of the mean
and standard deviation as before but now only for the one quantity of interest.</p></li>
</ol>
<div class="align-center figure" id="fig-res">
<a class="reference internal image-reference" href="../../../../../_images/res.png"><img alt="../../../../../_images/res.png" src="../../../../../_images/res.png" style="width: 800px;" /></a>
</div>
<ol class="arabic simple" start="3">
<li><p>Users can save the analysis results in the <strong>Data Value</strong> window to a text file (e.g., csv file) which
can be further processed for different purposes. For example, the figure below shows the maximum story
drift ratios and peak floor accelerations of the 4-story frame.</p></li>
</ol>
<div class="align-center figure" id="id1">
<a class="reference internal image-reference" href="../../../../../_images/sdr_pfa.png"><img alt="../../../../../_images/sdr_pfa.png" src="../../../../../_images/sdr_pfa.png" style="width: 600px;" /></a>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2024, The Regents of the University of California.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
    <!-- Theme Analytics -->
    <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-158130480-1', 'auto');
    
    ga('send', 'pageview');
    </script>

    
    

  <style>
         .wy-nav-content { max-width: none; }
  </style>

<script>
    /*
    let selectedFilters = [];
    const images  = document.getElementsByClassName("gallery-item");
    const filters = [...document.querySelectorAll('.filter select')];
    const toggles = [...document.querySelectorAll('.filter input')];

    var show = function (elem) {
        elem.style.display = 'block';
    };
    var hide = function (elem) {
        elem.style.display = 'none';
    };
    var toggleFilter =  function(el,elid) {
        const filter = document.getElementById(elid);
        filter.disabled = !el.checked;
       
        if ("createEvent" in document) {
            var evt = document.createEvent("HTMLEvents");
            evt.initEvent("change", false, true);
            filter.dispatchEvent(evt);
        }
        else
            filter.fireEvent("change");
    };
    
    for (const filter of filters) {
        filter.addEventListener('change', function(event) {
            selectedFilters = filters.map(filter => filter.disabled ? '' : filter.value).filter(Boolean);
            console.log(selectedFilters);
            for (const image of images) {
                if (selectedFilters.every(filter => image.classList.contains(filter))) {
                    show(image);
                }
                else {hide(image)};
            };
        })
    };
    */
</script>


</body>
</html>